load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")

go_library(
    name = "go_default_library",
    srcs = [
        "apparmor_default_unsupported.go",
        "archive.go",
        "archive_tarcopyoptions.go",
        "archive_tarcopyoptions_unix.go",
        "archive_unix.go",
        "attach.go",
        "auth.go",
        "build.go",
        "cache.go",
        "changes.go",
        "checkpoint.go",
        "cluster.go",
        "commit.go",
        "configs.go",
        "configs_unsupported.go",
        "container.go",
        "container_operations.go",
        "create.go",
        "create_unix.go",
        "daemon.go",
        "daemon_experimental.go",
        "daemon_unsupported.go",
        "debugtrap_unix.go",
        "debugtrap_unsupported.go",
        "delete.go",
        "dependency.go",
        "disk_usage.go",
        "errors.go",
        "events.go",
        "exec.go",
        "export.go",
        "health.go",
        "image.go",
        "image_delete.go",
        "image_exporter.go",
        "image_history.go",
        "image_inspect.go",
        "image_pull.go",
        "image_push.go",
        "image_tag.go",
        "images.go",
        "import.go",
        "info.go",
        "info_unix.go",
        "inspect.go",
        "inspect_unix.go",
        "keys_unsupported.go",
        "kill.go",
        "links.go",
        "list.go",
        "logs.go",
        "metrics.go",
        "metrics_unix.go",
        "monitor.go",
        "mounts.go",
        "names.go",
        "network.go",
        "pause.go",
        "prune.go",
        "reload.go",
        "rename.go",
        "resize.go",
        "restart.go",
        "search.go",
        "seccomp_unsupported.go",
        "secrets.go",
        "secrets_unsupported.go",
        "selinux_unsupported.go",
        "start.go",
        "start_unix.go",
        "stats.go",
        "stats_collector.go",
        "stats_unix.go",
        "stop.go",
        "top_unix.go",
        "unpause.go",
        "update.go",
        "volumes.go",
        "volumes_unix.go",
        "wait.go",
        "workdir.go",
    ] + select({
        "@io_bazel_rules_go//go/platform:linux_amd64": [
            "apparmor_default.go",
            "bindmount_unix.go",
            "configs_linux.go",
            "container_linux.go",
            "container_operations_unix.go",
            "daemon_linux.go",
            "daemon_unix.go",
            "exec_linux.go",
            "getsize_unix.go",
            "keys.go",
            "list_unix.go",
            "logdrivers_linux.go",
            "monitor_linux.go",
            "oci_linux.go",
            "seccomp_disabled.go",
            "secrets_linux.go",
            "selinux_linux.go",
            "update_linux.go",
        ],
        "@io_bazel_rules_go//go/platform:windows_amd64": [
            "archive_tarcopyoptions_windows.go",
            "archive_windows.go",
            "configs_windows.go",
            "container_operations_windows.go",
            "container_windows.go",
            "create_windows.go",
            "daemon_windows.go",
            "debugtrap_windows.go",
            "exec_windows.go",
            "info_windows.go",
            "inspect_windows.go",
            "list_windows.go",
            "logdrivers_windows.go",
            "metrics_unsupported.go",
            "monitor_windows.go",
            "oci_windows.go",
            "secrets_windows.go",
            "start_windows.go",
            "stats_windows.go",
            "top_windows.go",
            "update_windows.go",
            "volumes_windows.go",
        ],
        "//conditions:default": [],
    }),
    cgo = True,
    importpath = "github.com/docker/docker/daemon",
    visibility = ["//visibility:public"],
    deps = [
        "//vendor/github.com/containerd/containerd/api/grpc/types:go_default_library",
        "//vendor/github.com/docker/distribution:go_default_library",
        "//vendor/github.com/docker/distribution/manifest/schema2:go_default_library",
        "//vendor/github.com/docker/distribution/reference:go_default_library",
        "//vendor/github.com/docker/docker/api:go_default_library",
        "//vendor/github.com/docker/docker/api/errors:go_default_library",
        "//vendor/github.com/docker/docker/api/types:go_default_library",
        "//vendor/github.com/docker/docker/api/types/backend:go_default_library",
        "//vendor/github.com/docker/docker/api/types/container:go_default_library",
        "//vendor/github.com/docker/docker/api/types/events:go_default_library",
        "//vendor/github.com/docker/docker/api/types/filters:go_default_library",
        "//vendor/github.com/docker/docker/api/types/image:go_default_library",
        "//vendor/github.com/docker/docker/api/types/mount:go_default_library",
        "//vendor/github.com/docker/docker/api/types/network:go_default_library",
        "//vendor/github.com/docker/docker/api/types/registry:go_default_library",
        "//vendor/github.com/docker/docker/api/types/strslice:go_default_library",
        "//vendor/github.com/docker/docker/api/types/swarm:go_default_library",
        "//vendor/github.com/docker/docker/api/types/time:go_default_library",
        "//vendor/github.com/docker/docker/api/types/versions:go_default_library",
        "//vendor/github.com/docker/docker/api/types/versions/v1p19:go_default_library",
        "//vendor/github.com/docker/docker/api/types/versions/v1p20:go_default_library",
        "//vendor/github.com/docker/docker/builder:go_default_library",
        "//vendor/github.com/docker/docker/builder/dockerfile:go_default_library",
        "//vendor/github.com/docker/docker/builder/remotecontext:go_default_library",
        "//vendor/github.com/docker/docker/cli/debug:go_default_library",
        "//vendor/github.com/docker/docker/container:go_default_library",
        "//vendor/github.com/docker/docker/container/stream:go_default_library",
        "//vendor/github.com/docker/docker/daemon/cluster/provider:go_default_library",
        "//vendor/github.com/docker/docker/daemon/config:go_default_library",
        "//vendor/github.com/docker/docker/daemon/discovery:go_default_library",
        "//vendor/github.com/docker/docker/daemon/events:go_default_library",
        "//vendor/github.com/docker/docker/daemon/exec:go_default_library",
        "//vendor/github.com/docker/docker/daemon/graphdriver/register:go_default_library",
        "//vendor/github.com/docker/docker/daemon/initlayer:go_default_library",
        "//vendor/github.com/docker/docker/daemon/logger:go_default_library",
        "//vendor/github.com/docker/docker/daemon/network:go_default_library",
        "//vendor/github.com/docker/docker/daemon/stats:go_default_library",
        "//vendor/github.com/docker/docker/distribution:go_default_library",
        "//vendor/github.com/docker/docker/distribution/metadata:go_default_library",
        "//vendor/github.com/docker/docker/distribution/utils:go_default_library",
        "//vendor/github.com/docker/docker/distribution/xfer:go_default_library",
        "//vendor/github.com/docker/docker/dockerversion:go_default_library",
        "//vendor/github.com/docker/docker/image:go_default_library",
        "//vendor/github.com/docker/docker/image/cache:go_default_library",
        "//vendor/github.com/docker/docker/image/tarexport:go_default_library",
        "//vendor/github.com/docker/docker/layer:go_default_library",
        "//vendor/github.com/docker/docker/libcontainerd:go_default_library",
        "//vendor/github.com/docker/docker/migrate/v1:go_default_library",
        "//vendor/github.com/docker/docker/opts:go_default_library",
        "//vendor/github.com/docker/docker/pkg/archive:go_default_library",
        "//vendor/github.com/docker/docker/pkg/chrootarchive:go_default_library",
        "//vendor/github.com/docker/docker/pkg/directory:go_default_library",
        "//vendor/github.com/docker/docker/pkg/fileutils:go_default_library",
        "//vendor/github.com/docker/docker/pkg/idtools:go_default_library",
        "//vendor/github.com/docker/docker/pkg/ioutils:go_default_library",
        "//vendor/github.com/docker/docker/pkg/mount:go_default_library",
        "//vendor/github.com/docker/docker/pkg/namesgenerator:go_default_library",
        "//vendor/github.com/docker/docker/pkg/parsers/kernel:go_default_library",
        "//vendor/github.com/docker/docker/pkg/parsers/operatingsystem:go_default_library",
        "//vendor/github.com/docker/docker/pkg/platform:go_default_library",
        "//vendor/github.com/docker/docker/pkg/plugingetter:go_default_library",
        "//vendor/github.com/docker/docker/pkg/plugins:go_default_library",
        "//vendor/github.com/docker/docker/pkg/pools:go_default_library",
        "//vendor/github.com/docker/docker/pkg/progress:go_default_library",
        "//vendor/github.com/docker/docker/pkg/signal:go_default_library",
        "//vendor/github.com/docker/docker/pkg/stdcopy:go_default_library",
        "//vendor/github.com/docker/docker/pkg/streamformatter:go_default_library",
        "//vendor/github.com/docker/docker/pkg/stringid:go_default_library",
        "//vendor/github.com/docker/docker/pkg/sysinfo:go_default_library",
        "//vendor/github.com/docker/docker/pkg/system:go_default_library",
        "//vendor/github.com/docker/docker/pkg/term:go_default_library",
        "//vendor/github.com/docker/docker/pkg/truncindex:go_default_library",
        "//vendor/github.com/docker/docker/plugin:go_default_library",
        "//vendor/github.com/docker/docker/reference:go_default_library",
        "//vendor/github.com/docker/docker/registry:go_default_library",
        "//vendor/github.com/docker/docker/restartmanager:go_default_library",
        "//vendor/github.com/docker/docker/runconfig:go_default_library",
        "//vendor/github.com/docker/docker/volume:go_default_library",
        "//vendor/github.com/docker/docker/volume/drivers:go_default_library",
        "//vendor/github.com/docker/docker/volume/local:go_default_library",
        "//vendor/github.com/docker/docker/volume/store:go_default_library",
        "//vendor/github.com/docker/go-connections/nat:go_default_library",
        "//vendor/github.com/docker/go-connections/sockets:go_default_library",
        "//vendor/github.com/docker/go-metrics:go_default_library",
        "//vendor/github.com/docker/libnetwork:go_default_library",
        "//vendor/github.com/docker/libnetwork/cluster:go_default_library",
        "//vendor/github.com/docker/libnetwork/config:go_default_library",
        "//vendor/github.com/docker/libnetwork/driverapi:go_default_library",
        "//vendor/github.com/docker/libnetwork/ipamapi:go_default_library",
        "//vendor/github.com/docker/libnetwork/netlabel:go_default_library",
        "//vendor/github.com/docker/libnetwork/options:go_default_library",
        "//vendor/github.com/docker/libnetwork/types:go_default_library",
        "//vendor/github.com/docker/libtrust:go_default_library",
        "//vendor/github.com/docker/swarmkit/agent/exec:go_default_library",
        "//vendor/github.com/docker/swarmkit/api:go_default_library",
        "//vendor/github.com/gogo/protobuf/types:go_default_library",
        "//vendor/github.com/opencontainers/go-digest:go_default_library",
        "//vendor/github.com/opencontainers/selinux/go-selinux/label:go_default_library",
        "//vendor/github.com/pkg/errors:go_default_library",
        "//vendor/github.com/prometheus/client_golang/prometheus:go_default_library",
        "//vendor/github.com/sirupsen/logrus:go_default_library",
        "//vendor/golang.org/x/net/context:go_default_library",
        "//vendor/golang.org/x/sys/unix:go_default_library",
        "//vendor/google.golang.org/grpc:go_default_library",
    ] + select({
        "@io_bazel_rules_go//go/platform:linux_amd64": [
            "//vendor/github.com/docker/docker/api/types/blkiodev:go_default_library",
            "//vendor/github.com/docker/docker/daemon/caps:go_default_library",
            "//vendor/github.com/docker/docker/daemon/links:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/awslogs:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/fluentd:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/gcplogs:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/gelf:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/journald:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/jsonfilelog:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/logentries:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/splunk:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/syslog:go_default_library",
            "//vendor/github.com/docker/docker/oci:go_default_library",
            "//vendor/github.com/docker/docker/pkg/parsers:go_default_library",
            "//vendor/github.com/docker/docker/pkg/stringutils:go_default_library",
            "//vendor/github.com/docker/docker/pkg/symlink:go_default_library",
            "//vendor/github.com/docker/docker/profiles/apparmor:go_default_library",
            "//vendor/github.com/docker/libnetwork/drivers/bridge:go_default_library",
            "//vendor/github.com/docker/libnetwork/netutils:go_default_library",
            "//vendor/github.com/golang/protobuf/ptypes:go_default_library",
            "//vendor/github.com/opencontainers/runc/libcontainer/apparmor:go_default_library",
            "//vendor/github.com/opencontainers/runc/libcontainer/cgroups:go_default_library",
            "//vendor/github.com/opencontainers/runc/libcontainer/devices:go_default_library",
            "//vendor/github.com/opencontainers/runc/libcontainer/system:go_default_library",
            "//vendor/github.com/opencontainers/runc/libcontainer/user:go_default_library",
            "//vendor/github.com/opencontainers/runtime-spec/specs-go:go_default_library",
            "//vendor/github.com/opencontainers/selinux/go-selinux:go_default_library",
            "//vendor/github.com/vishvananda/netlink:go_default_library",
        ],
        "@io_bazel_rules_go//go/platform:windows_amd64": [
            "//vendor/github.com/Microsoft/go-winio:go_default_library",
            "//vendor/github.com/Microsoft/hcsshim:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/awslogs:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/etwlogs:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/fluentd:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/jsonfilelog:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/logentries:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/splunk:go_default_library",
            "//vendor/github.com/docker/docker/daemon/logger/syslog:go_default_library",
            "//vendor/github.com/docker/docker/oci:go_default_library",
            "//vendor/github.com/docker/docker/pkg/parsers:go_default_library",
            "//vendor/github.com/docker/go-units:go_default_library",
            "//vendor/github.com/docker/libnetwork/datastore:go_default_library",
            "//vendor/github.com/docker/libnetwork/drivers/windows:go_default_library",
            "//vendor/github.com/opencontainers/runc/libcontainer/configs:go_default_library",
            "//vendor/github.com/opencontainers/runtime-spec/specs-go:go_default_library",
            "//vendor/golang.org/x/sys/windows:go_default_library",
            "//vendor/golang.org/x/sys/windows/registry:go_default_library",
        ],
        "//conditions:default": [],
    }),
)

go_test(
    name = "go_default_test",
    srcs = [
        "daemon_test.go",
        "daemon_unix_test.go",
        "delete_test.go",
        "events_test.go",
        "health_test.go",
        "info_unix_test.go",
        "logs_test.go",
        "reload_test.go",
        "search_test.go",
        "top_unix_test.go",
        "volumes_unit_test.go",
        "volumes_unix_test.go",
    ] + select({
        "@io_bazel_rules_go//go/platform:linux_amd64": [
            "daemon_linux_test.go",
        ],
        "//conditions:default": [],
    }),
    importpath = "github.com/docker/docker/daemon",
    deps = [
        "//vendor/github.com/docker/docker/api/types:go_default_library",
        "//vendor/github.com/docker/docker/api/types/container:go_default_library",
        "//vendor/github.com/docker/docker/api/types/events:go_default_library",
        "//vendor/github.com/docker/docker/api/types/mount:go_default_library",
        "//vendor/github.com/docker/docker/api/types/registry:go_default_library",
        "//vendor/github.com/docker/docker/container:go_default_library",
        "//vendor/github.com/docker/docker/daemon/config:go_default_library",
        "//vendor/github.com/docker/docker/daemon/events:go_default_library",
        "//vendor/github.com/docker/docker/dockerversion:go_default_library",
        "//vendor/github.com/docker/docker/pkg/discovery:go_default_library",
        "//vendor/github.com/docker/docker/pkg/discovery/memory:go_default_library",
        "//vendor/github.com/docker/docker/pkg/idtools:go_default_library",
        "//vendor/github.com/docker/docker/pkg/testutil:go_default_library",
        "//vendor/github.com/docker/docker/pkg/truncindex:go_default_library",
        "//vendor/github.com/docker/docker/registry:go_default_library",
        "//vendor/github.com/docker/docker/volume:go_default_library",
        "//vendor/github.com/docker/docker/volume/drivers:go_default_library",
        "//vendor/github.com/docker/docker/volume/local:go_default_library",
        "//vendor/github.com/docker/docker/volume/store:go_default_library",
        "//vendor/github.com/docker/go-connections/nat:go_default_library",
        "//vendor/github.com/stretchr/testify/assert:go_default_library",
        "//vendor/github.com/stretchr/testify/require:go_default_library",
        "//vendor/golang.org/x/net/context:go_default_library",
    ],
)

filegroup(
    name = "package-srcs",
    srcs = glob(["**"]),
    tags = ["automanaged"],
    visibility = ["//visibility:private"],
)

filegroup(
    name = "all-srcs",
    srcs = [
        ":package-srcs",
        "//vendor/github.com/docker/docker/daemon/caps:all-srcs",
        "//vendor/github.com/docker/docker/daemon/cluster:all-srcs",
        "//vendor/github.com/docker/docker/daemon/config:all-srcs",
        "//vendor/github.com/docker/docker/daemon/discovery:all-srcs",
        "//vendor/github.com/docker/docker/daemon/events:all-srcs",
        "//vendor/github.com/docker/docker/daemon/exec:all-srcs",
        "//vendor/github.com/docker/docker/daemon/graphdriver:all-srcs",
        "//vendor/github.com/docker/docker/daemon/initlayer:all-srcs",
        "//vendor/github.com/docker/docker/daemon/links:all-srcs",
        "//vendor/github.com/docker/docker/daemon/logger:all-srcs",
        "//vendor/github.com/docker/docker/daemon/network:all-srcs",
        "//vendor/github.com/docker/docker/daemon/stats:all-srcs",
    ],
    tags = ["automanaged"],
    visibility = ["//visibility:public"],
)
